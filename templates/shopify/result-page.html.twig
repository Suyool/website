<div>
    Processing...
</div>

<script>
    $(document).ready(function() {
        setInterval(function() {
            // Call the checkOrderStatus function
            checkOrderStatus({{ order_id }});
        }, 3000); // Check order status every 3 seconds
    });
    function checkOrderStatus(order_id) {
        $.ajax({
            type: "post",
            url: "{{ path('app_check_status', { orderId: order_id }) }}",
            success: function(data) {
                if (data.status === 1) {
                    // Order status is 1
                    window.location.href = data.url;
                }
                if (data.status === 2) {
                    // Order status is 2
                    window.location.href = data.url;
                }
            }
        });
    }
    
</script>