<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<div>
    Processing...
</div>

<script>

    function checkOrderStatus(order_id) {
        $.ajax({
            type: "post",
            url: "{{ path('app_check_status', { orderId: order_id }) }}",
            success: function(data) {
                if (data.status === 1) {
                    // Order status is 1
                    window.location.href = data.url;
                }
                if (data.status === 2) {
                    // Order status is 2
                    window.location.href = data.url;
                }
            }
        });
    }

    $(document).ready(function() {
        setInterval(function() {
            // Call the checkOrderStatus function
            checkOrderStatus({{ order_id }});
        }, 3000); // Check order status every 3 seconds
    });

</script>